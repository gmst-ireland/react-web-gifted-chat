{"version":3,"sources":["utils.js","Color.js","Actions.js","TouchableOpacity.js","GiftedAvatar.js","Avatar.js","TextExtraction.js","ParsedText.js","MessageText.js","MessageImage.js","MessageVideo.js","Time.js","Constant.js","Bubble.js","SystemMessage.js","Composer.js","Day.js","Send.js","InputToolbar.js","LoadEarlier.js","Message.js","WebScrollView.js","MessageContainer.js","GiftedChat.js"],"names":["isSameDay","currentMessage","diffMessage","createdAt","currentCreatedAt","moment","diffCreatedAt","isValid","isSame","isSameUser","user","id","defaultColor","backgroundTransparent","defaultBlue","leftBubbleBackground","black","white","carrot","emerald","peterRiver","wisteria","alizarin","turquoise","midnightBlue","optionTintColor","timeTextColor","Actions","props","onActionsPress","bind","options","this","optionKeys","Object","keys","cancelButtonIndex","indexOf","context","actionSheet","showActionSheetWithOptions","tintColor","buttonIndex","key","icon","View","style","styles","wrapper","wrapperStyle","Text","iconText","iconTextStyle","container","containerStyle","onPress","onPressActionButton","renderIcon","React","Component","StyleSheet","create","width","height","marginLeft","marginBottom","borderRadius","borderColor","Color","borderWidth","flex","color","fontWeight","fontSize","backgroundColor","textAlign","contextTypes","PropTypes","func","defaultProps","onSend","TouchableOpacity","state","pressed","handleButtonPress","onLongPress","withoutFeedback","setState","buttonPressTimer","setTimeout","handleButtonRelease","clearTimeout","children","containerPressed","containerNotPressed","onClick","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","onMouseLeave","cursor","opacity","GiftedAvatar","userName","name","toUpperCase","split","length","avatarName","charAt","sumChars","i","charCodeAt","colors","avatarColor","avatar","Image","source","uri","avatarStyle","textStyle","disabled","other","accessibilityTraits","renderAvatar","setAvatarColor","renderInitials","avatarTransparent","display","justifyContent","alignItems","left","marginRight","onTop","alignSelf","onBottom","image","right","Avatar","avatarProps","flatten","position","imageStyle","onPressAvatar","renderAvatarOnTop","showAvatarForEveryMessage","messageToCompare","previousMessage","nextMessage","computedStyle","TextExtraction","text","patterns","parsedTexts","forEach","pattern","newParts","parsedText","_matched","push","parts","textLeft","matches","exec","previousText","substr","index","getMatchedPart","filter","t","matchedPattern","renderText","PATTERNS","url","phone","email","ParsedText","nativeProps","_root","setNativeProps","parse","map","option","type","patternOption","Error","textExtraction","getPatterns","childrenProps","ref","getParsedText","displayName","WWW_URL_PATTERN","MessageText","onUrlPress","onPhonePress","onEmailPress","nextProps","test","Linking","canOpenURL","then","supported","openURL","console","error","linkStyle","link","customTextStyle","parsePatterns","textProps","lineHeight","marginTop","textDecorationLine","MessageImage","isOpen","messageIndex","onClickImage","imageMessages","imageProps","log","onCloseRequest","mainSrc","nextSrc","prevSrc","onMovePrevRequest","onMoveNextRequest","item","margin","resizeMode","imageActive","MessageVideo","videoProps","videoStyle","lightboxProps","Time","timeFormat","timeTextStyle","locale","getLocale","format","Bubble","Clipboard","setString","containerToNext","containerToNextStyle","containerToPrevious","containerToPreviousStyle","messageTextProps","renderMessageText","messageImageProps","renderMessageImage","video","messageVideoProps","renderMessageVideo","renderTicks","sent","received","pending","tickView","tick","tickStyle","timeProps","renderTime","renderUsernameOnMessage","usernameView","username","usernameStyle","renderCustomView","handleBubbleToNext","handleBubbleToPrevious","touchableProps","bottom","bottomContainerStyle","renderUsername","minHeight","borderBottomLeftRadius","borderTopLeftRadius","flexDirection","borderBottomRightRadius","borderTopRightRadius","top","marginHorizontal","SystemMessage","system","Composer","e","contentSize","nativeEvent","onInputSizeChanged","onTextChanged","keyCode","shiftKey","trim","preventDefault","testID","placeholder","accessible","onKeyDown","accessibilityLabel","placeholderTextColor","multiline","onChange","event","onChangeText","target","value","textInput","textInputStyle","enablesReturnKeyAutomatically","underlineColorAndroid","keyboardAppearance","textInputProps","paddingTop","paddingBottom","outline","border","overflow","boxShadow","resize","Day","dateFormat","inverted","composerHeight","textInputAutoFocus","Send","label","alwaysShowSend","InputToolbar","keyboardWillShow","keyboardWillHide","keyboardWillShowListener","Keyboard","addListener","keyboardWillHideListener","remove","renderActions","renderSend","renderComposer","renderAccessory","accessory","accessoryStyle","primary","primaryStyle","borderTopWidth","hairlineWidth","borderTopColor","LoadEarlier","isLoadingEarlier","textOpaque","ActivityIndicator","size","activityIndicator","activityIndicatorStyle","onLoadEarlier","renderLoading","paddingLeft","paddingRight","Message","getInnerComponentProps","next","current","nextPropsMessage","nextPropsPreviousMessage","shouldUpdate","shouldUpdateMessage","audio","dayProps","renderDay","bubbleProps","renderBubble","systemMessageProps","renderSystemMessage","showUserAvatar","sameUser","undefined","WebScrollView","renderItem","ListHeaderComponent","ListFooterComponent","data","messages","slice","reverse","extraData","MessageContainer","showScrollBottom","renderFooter","footerProps","renderLoadEarlier","loadEarlier","loadEarlierProps","scrollToBottom","scrollTo","offset","animated","renderRow","warn","JSON","stringify","restProps","messageProps","renderMessage","renderHeaderWrapper","headerWrapper","keyExtractor","scrollToBottomComponent","scrollToBottomStyle","hitSlop","onLayout","renderScrollToBottomWrapper","flatListRef","enableEmptySections","automaticallyAdjustContentInsets","listStyle","contentContainerStyle","PureComponent","paddingHorizontal","paddingVertical","zIndex","shadowColor","shadowOpacity","shadowOffset","shadowRadius","listViewProps","invertibleScrollViewProps","scrollToBottomOffset","GiftedChat","_isMounted","_keyboardHeight","_bottomOffset","_maxHeight","_isFirstLayout","_locale","_messages","isInitialized","typingDisabled","onInputTextChanged","onMainViewLayout","onInitialLayoutViewLayout","setIsMounted","initLocale","setMessages","setTextFromProp","locales","setLocale","textProp","fallback","_messageContainerRef","y","getMessages","component","renderChatFooter","shouldResetInputToolbar","Array","isArray","message","Date","messageIdGenerator","setIsTypingDisabled","resetInputToolbar","getIsMounted","notifyInputTextReset","getTextFromProp","focus","getIsTypingDisabled","layout","inputToolbarProps","maxLength","maxInputLength","renderInputToolbar","renderMessages","currentMessages","concat","childContextTypes","uuid","v4","isAnimated","bottomOffset","minInputToolbarHeight","keyboardShouldPersistTaps","forceGetKeyboardHeight","minComposerHeight","maxComposerHeight"],"mappings":"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","file":"static/js/main.31068eef.chunk.js","sourcesContent":["import moment from 'moment';\r\n\r\nexport function isSameDay(currentMessage = {}, diffMessage = {}) {\r\n  if (!diffMessage.createdAt) {\r\n    return false;\r\n  }\r\n\r\n  const currentCreatedAt = moment(currentMessage.createdAt);\r\n  const diffCreatedAt = moment(diffMessage.createdAt);\r\n\r\n  if (!currentCreatedAt.isValid() || !diffCreatedAt.isValid()) {\r\n    return false;\r\n  }\r\n\r\n  return currentCreatedAt.isSame(diffCreatedAt, 'day');\r\n}\r\n\r\nexport function isSameUser(currentMessage = {}, diffMessage = {}) {\r\n  return !!(diffMessage.user && currentMessage.user && diffMessage.user.id === currentMessage.user.id);\r\n}\r\n","export default {\r\n  defaultColor: '#b2b2b2',\r\n  backgroundTransparent: 'transparent',\r\n  defaultBlue: '#0084ff',\r\n  leftBubbleBackground: '#f0f0f0',\r\n  black: '#000',\r\n  white: '#fff',\r\n  carrot: '#e67e22',\r\n  emerald: '#2ecc71',\r\n  peterRiver: '#3498db',\r\n  wisteria: '#8e44ad',\r\n  alizarin: '#e74c3c',\r\n  turquoise: '#1abc9c',\r\n  midnightBlue: '#2c3e50',\r\n  optionTintColor: '#007AFF',\r\n  timeTextColor: '#aaa',\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, Text, TouchableOpacity, View, ViewPropTypes } from 'react-native';\r\nimport Color from './Color';\r\n\r\nexport default class Actions extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onActionsPress = this.onActionsPress.bind(this);\r\n  }\r\n\r\n  onActionsPress() {\r\n    const { options } = this.props;\r\n    const optionKeys = Object.keys(options);\r\n    const cancelButtonIndex = optionKeys.indexOf('Cancel');\r\n    this.context.actionSheet().showActionSheetWithOptions(\r\n      {\r\n        options: optionKeys,\r\n        cancelButtonIndex,\r\n        tintColor: this.props.optionTintColor,\r\n      },\r\n      (buttonIndex) => {\r\n        const key = optionKeys[buttonIndex];\r\n        if (key) {\r\n          options[key](this.props);\r\n        }\r\n      },\r\n    );\r\n  }\r\n\r\n  renderIcon() {\r\n    if (this.props.icon) {\r\n      return this.props.icon();\r\n    }\r\n    return (\r\n      <View style={[styles.wrapper, this.props.wrapperStyle]}>\r\n        <Text style={[styles.iconText, this.props.iconTextStyle]}>+</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TouchableOpacity\r\n        style={[styles.container, this.props.containerStyle]}\r\n        onPress={this.props.onPressActionButton || this.onActionsPress}\r\n      >\r\n        {this.renderIcon()}\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    width: 26,\r\n    height: 26,\r\n    marginLeft: 10,\r\n    marginBottom: 10,\r\n  },\r\n  wrapper: {\r\n    borderRadius: 13,\r\n    borderColor: Color.defaultColor,\r\n    borderWidth: 2,\r\n    flex: 1,\r\n  },\r\n  iconText: {\r\n    color: Color.defaultColor,\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    backgroundColor: Color.backgroundTransparent,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n\r\nActions.contextTypes = {\r\n  actionSheet: PropTypes.func,\r\n};\r\n\r\nActions.defaultProps = {\r\n  onSend: () => { },\r\n  options: {},\r\n  optionTintColor: Color.optionTintColor,\r\n  icon: null,\r\n  containerStyle: {},\r\n  iconTextStyle: {},\r\n  wrapperStyle: {},\r\n};\r\n\r\nActions.propTypes = {\r\n  onSend: PropTypes.func,\r\n  options: PropTypes.object,\r\n  optionTintColor: PropTypes.string,\r\n  icon: PropTypes.func,\r\n  onPressActionButton: PropTypes.func,\r\n  wrapperStyle: ViewPropTypes.style,\r\n  containerStyle: ViewPropTypes.style,\r\n  iconTextStyle: Text.propTypes.style,\r\n};\r\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\r\n/* eslint-disable jsx-a11y/no-static-element-interactions */\r\nimport PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\n\r\n\r\nexport default class TouchableOpacity extends Component {\r\n  state={\r\n    pressed: false,\r\n  }\r\n\r\n  handleButtonPress= () => {\r\n    const { onLongPress, withoutFeedback } = this.props;\r\n    this.setState({ pressed: true });\r\n    this.buttonPressTimer = setTimeout(onLongPress, 500);\r\n  }\r\n\r\n  handleButtonRelease= () => {\r\n    this.setState({ pressed: false });\r\n    clearTimeout(this.buttonPressTimer);\r\n  }\r\n\r\n\r\n  render() {\r\n    const { children, onPress, withoutFeedback } = this.props;\r\n    const { pressed } = this.state;\r\n    let { style } = this.props;\r\n    if (!withoutFeedback) {\r\n      style = { ...styles.container, ...(pressed ? styles.containerPressed : styles.containerNotPressed), ...style };\r\n    }\r\n    return (\r\n      <div\r\n        style={style}\r\n        onClick={onPress}\r\n        onTouchStart={this.handleButtonPress}\r\n        onTouchEnd={this.handleButtonRelease}\r\n        onMouseDown={this.handleButtonPress}\r\n        onMouseUp={this.handleButtonRelease}\r\n        onMouseLeave={this.handleButtonRelease}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    cursor: 'pointer',\r\n  },\r\n  containerNotPressed: {\r\n    opacity: 1,\r\n  },\r\n  containerPressed: {\r\n    opacity: 0.5,\r\n  },\r\n};\r\n\r\nTouchableOpacity.defaultProps = {\r\n  onPress: () => {},\r\n  onLongPress: () => {},\r\n  withoutFeedback: false,\r\n  style: {},\r\n};\r\n\r\nTouchableOpacity.propTypes = {\r\n  onPress: PropTypes.func,\r\n  onLongPress: PropTypes.func,\r\n  children: PropTypes.node,\r\n  withoutFeedback: PropTypes.bool,\r\n  style: PropTypes.object,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }], padded-blocks: 0 */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Image, Text, View } from 'react-native';\r\nimport Color from './Color';\r\nimport TouchableOpacity from './TouchableOpacity';\r\n\r\nconst { carrot, emerald, peterRiver, wisteria, alizarin, turquoise, midnightBlue } = Color;\r\n\r\nexport default class GiftedAvatar extends React.Component {\r\n  setAvatarColor() {\r\n    const userName = this.props.user.name || '';\r\n    const name = userName.toUpperCase().split(' ');\r\n    if (name.length === 1) {\r\n      this.avatarName = `${name[0].charAt(0)}`;\r\n    } else if (name.length > 1) {\r\n      this.avatarName = `${name[0].charAt(0)}${name[1].charAt(0)}`;\r\n    } else {\r\n      this.avatarName = '';\r\n    }\r\n\r\n    let sumChars = 0;\r\n    for (let i = 0; i < userName.length; i += 1) {\r\n      sumChars += userName.charCodeAt(i);\r\n    }\r\n\r\n    // inspired by https://github.com/wbinnssmith/react-user-avatar\r\n    // colors from https://flatuicolors.com/\r\n    const colors = [carrot, emerald, peterRiver, wisteria, alizarin, turquoise, midnightBlue];\r\n\r\n    this.avatarColor = colors[sumChars % colors.length];\r\n  }\r\n\r\n  renderAvatar() {\r\n    if (typeof this.props.user.avatar === 'function') {\r\n      return this.props.user.avatar();\r\n    } if (typeof this.props.user.avatar === 'string') {\r\n      return <Image source={{ uri: this.props.user.avatar }} style={[styles.avatarStyle, this.props.avatarStyle]} />;\r\n    } if (typeof this.props.user.avatar === 'number') {\r\n      return <Image source={this.props.user.avatar} style={[styles.avatarStyle, this.props.avatarStyle]} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderInitials() {\r\n    return <Text style={[styles.textStyle, this.props.textStyle]}>{this.avatarName}</Text>;\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.user.name && !this.props.user.avatar) {\r\n      // render placeholder\r\n      return (\r\n        <View\r\n          style={[styles.avatarStyle, styles.avatarTransparent, this.props.avatarStyle]}\r\n          accessibilityTraits=\"image\"\r\n        />\r\n      );\r\n    }\r\n    if (this.props.user.avatar) {\r\n      return (\r\n        <TouchableOpacity\r\n          disabled={!this.props.onPress}\r\n          onPress={() => {\r\n            const { onPress, ...other } = this.props;\r\n            if (this.props.onPress) {\r\n              this.props.onPress(other);\r\n            }\r\n          }}\r\n          accessibilityTraits=\"image\"\r\n        >\r\n          {this.renderAvatar()}\r\n        </TouchableOpacity>\r\n      );\r\n    }\r\n\r\n    this.setAvatarColor();\r\n\r\n    return (\r\n      <TouchableOpacity\r\n        disabled={!this.props.onPress}\r\n        onPress={() => {\r\n          const { onPress, ...other } = this.props;\r\n          if (this.props.onPress) {\r\n            this.props.onPress(other);\r\n          }\r\n        }}\r\n        style={{ ...styles.avatarStyle, backgroundColor: this.avatarColor, ...this.props.avatarStyle }}\r\n        accessibilityTraits=\"image\"\r\n      >\r\n        {this.renderInitials()}\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  avatarStyle: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: 20,\r\n  },\r\n  avatarTransparent: {\r\n    backgroundColor: Color.backgroundTransparent,\r\n  },\r\n  textStyle: {\r\n    color: Color.white,\r\n    fontSize: 16,\r\n    backgroundColor: Color.backgroundTransparent,\r\n    fontWeight: '100',\r\n  },\r\n};\r\n\r\nGiftedAvatar.defaultProps = {\r\n  user: {\r\n    name: null,\r\n    avatar: null,\r\n  },\r\n  onPress: null,\r\n  avatarStyle: {},\r\n  textStyle: {},\r\n};\r\n\r\nGiftedAvatar.propTypes = {\r\n  user: PropTypes.object,\r\n  onPress: PropTypes.func,\r\n  avatarStyle: Image.propTypes.style,\r\n  textStyle: Text.propTypes.style,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, View, ViewPropTypes } from 'react-native';\r\nimport GiftedAvatar from './GiftedAvatar';\r\nimport { isSameUser, isSameDay } from './utils';\r\n\r\nconst styles = {\r\n  left: StyleSheet.create({\r\n    container: {\r\n      marginRight: 8,\r\n    },\r\n    onTop: {\r\n      alignSelf: 'flex-start',\r\n    },\r\n    onBottom: {},\r\n    image: {\r\n      height: 36,\r\n      width: 36,\r\n      borderRadius: 18,\r\n    },\r\n  }),\r\n  right: StyleSheet.create({\r\n    container: {\r\n      marginLeft: 8,\r\n    },\r\n    onTop: {\r\n      alignSelf: 'flex-start',\r\n    },\r\n    onBottom: {},\r\n    image: {\r\n      height: 36,\r\n      width: 36,\r\n      borderRadius: 18,\r\n    },\r\n  }),\r\n};\r\n\r\nexport default class Avatar extends React.Component {\r\n\r\n  renderAvatar() {\r\n    if (this.props.renderAvatar) {\r\n      const { renderAvatar, ...avatarProps } = this.props;\r\n      return this.props.renderAvatar(avatarProps);\r\n    }\r\n    return (\r\n      <GiftedAvatar\r\n        avatarStyle={StyleSheet.flatten([\r\n          styles[this.props.position].image,\r\n          this.props.imageStyle[this.props.position],\r\n        ])}\r\n        user={this.props.currentMessage.user}\r\n        onPress={() => this.props.onPressAvatar && this.props.onPressAvatar(this.props.currentMessage.user)}\r\n        onClick={() => this.props.onPressAvatar && this.props.onPressAvatar(this.props.currentMessage.user)}\r\n      />\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const { renderAvatarOnTop, showAvatarForEveryMessage } = this.props;\r\n    const messageToCompare = renderAvatarOnTop ? this.props.previousMessage : this.props.nextMessage;\r\n    const computedStyle = renderAvatarOnTop ? 'onTop' : 'onBottom';\r\n\r\n    if (this.props.renderAvatar === null) {\r\n      return null;\r\n    }\r\n\r\n    if (\r\n      !showAvatarForEveryMessage &&\r\n      isSameUser(this.props.currentMessage, messageToCompare) &&\r\n      isSameDay(this.props.currentMessage, messageToCompare)\r\n    ) {\r\n      return (\r\n        <View style={[styles[this.props.position].container, this.props.containerStyle[this.props.position]]}>\r\n          <GiftedAvatar\r\n            avatarStyle={StyleSheet.flatten([\r\n              styles[this.props.position].image,\r\n              this.props.imageStyle[this.props.position],\r\n            ])}\r\n          />\r\n        </View>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <View\r\n        style={[\r\n          styles[this.props.position].container,\r\n          styles[this.props.position][computedStyle],\r\n          this.props.containerStyle[this.props.position],\r\n        ]}\r\n      >\r\n        {this.renderAvatar()}\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nAvatar.defaultProps = {\r\n  renderAvatarOnTop: false,\r\n  showAvatarForEveryMessage: false,\r\n  position: 'left',\r\n  currentMessage: {\r\n    user: null,\r\n  },\r\n  previousMessage: {},\r\n  nextMessage: {},\r\n  containerStyle: {},\r\n  imageStyle: {},\r\n  onPressAvatar: () => {},\r\n};\r\n\r\nAvatar.propTypes = {\r\n  renderAvatarOnTop: PropTypes.bool,\r\n  showAvatarForEveryMessage: PropTypes.bool,\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  previousMessage: PropTypes.object,\r\n  nextMessage: PropTypes.object,\r\n  onPressAvatar: PropTypes.func,\r\n  renderAvatar: PropTypes.func,\r\n  containerStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n  imageStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n};\r\n","class TextExtraction {\r\n  /**\r\n   * @param {String} text - Text to be parsed\r\n   * @param {Object[]} patterns - Patterns to be used when parsed\r\n   *                              other options than pattern would be added to the parsed content\r\n   * @param {RegExp} patterns[].pattern - RegExp to be used for parsing\r\n   */\r\n  constructor(text, patterns) {\r\n    this.text     = text;\r\n    this.patterns = patterns || [];\r\n  }\r\n\r\n  /**\r\n   * Returns parts of the text with their own props\r\n   * @return {Object[]} - props for all the parts of the text\r\n   */\r\n  parse() {\r\n    let parsedTexts = [{children: this.text}];\r\n    this.patterns.forEach((pattern) => {\r\n      let newParts = [];\r\n\r\n      parsedTexts.forEach((parsedText) => {\r\n        // Only allow for now one parsing\r\n        if (parsedText._matched) {\r\n          newParts.push(parsedText);\r\n\r\n          return;\r\n        }\r\n\r\n        let parts    = [];\r\n        let textLeft = parsedText.children;\r\n\r\n        while (textLeft) {\r\n          let matches = pattern.pattern.exec(textLeft);\r\n\r\n          if (!matches) { break; }\r\n\r\n          let previousText = textLeft.substr(0, matches.index);\r\n\r\n          parts.push({children: previousText});\r\n\r\n          parts.push(this.getMatchedPart(pattern, matches[0], matches));\r\n\r\n          textLeft = textLeft.substr(matches.index + matches[0].length);\r\n        }\r\n\r\n        parts.push({children: textLeft});\r\n\r\n        newParts.push(...parts);\r\n      });\r\n\r\n      parsedTexts = newParts;\r\n    });\r\n\r\n    // Remove _matched key.\r\n    parsedTexts.forEach((parsedText) => delete(parsedText._matched));\r\n\r\n    return parsedTexts.filter(t => !!t.children);\r\n  }\r\n\r\n  // private\r\n\r\n  /**\r\n   * @param {Object} matchedPattern - pattern configuration of the pattern used to match the text\r\n   * @param {RegExp} matchedPattern.pattern - pattern used to match the text\r\n   * @param {String} text - Text matching the pattern\r\n   * @param {String[]} text - Result of the RegExp.exec\r\n   * @return {Object} props for the matched text\r\n   */\r\n  getMatchedPart(matchedPattern, text, matches) {\r\n    let props = {};\r\n\r\n    Object.keys(matchedPattern).forEach((key) => {\r\n      if (key === 'pattern' || key === 'renderText') { return; }\r\n\r\n      if (typeof matchedPattern[key] === 'function') {\r\n        props[key] = () => matchedPattern[key](text);\r\n      } else {\r\n        props[key] = matchedPattern[key];\r\n      }\r\n    });\r\n\r\n    let children = text;\r\n    if (matchedPattern.renderText && typeof matchedPattern.renderText === 'function') {\r\n      children = matchedPattern.renderText(text, matches);\r\n    }\r\n\r\n    return {\r\n      ...props,\r\n      children: children,\r\n      _matched: true,\r\n    };\r\n  }\r\n}\r\n\r\nexport default TextExtraction;\r\n","import React from 'react';\r\nimport ReactNative from 'react-native';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport TextExtraction from './TextExtraction';\r\n\r\nconst PATTERNS = {\r\n  url: /(https?:\\/\\/|www\\.)[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&\\/\\/=]*)/i,\r\n  phone: /[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}/,\r\n  email: /\\S+@\\S+\\.\\S+/,\r\n};\r\n\r\nconst defaultParseShape = PropTypes.shape({\r\n  ...ReactNative.Text.propTypes,\r\n  type: PropTypes.oneOf(Object.keys(PATTERNS)).isRequired,\r\n});\r\n\r\nconst customParseShape = PropTypes.shape({\r\n  ...ReactNative.Text.propTypes,\r\n  pattern: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)]).isRequired,\r\n});\r\n\r\nclass ParsedText extends React.Component {\r\n  static displayName = 'ParsedText';\r\n\r\n  static propTypes = {\r\n    ...ReactNative.Text.propTypes,\r\n    parse: PropTypes.arrayOf(\r\n      PropTypes.oneOfType([defaultParseShape, customParseShape]),\r\n    ),\r\n    childrenProps: PropTypes.shape(ReactNative.Text.propTypes),\r\n  };\r\n\r\n  static defaultProps = {\r\n    parse: null,\r\n  };\r\n\r\n  setNativeProps(nativeProps) {\r\n    this._root.setNativeProps(nativeProps);\r\n  }\r\n\r\n  getPatterns() {\r\n    return this.props.parse.map((option) => {\r\n      const { type, ...patternOption } = option;\r\n      if (type) {\r\n        if (!PATTERNS[type]) {\r\n          throw new Error(`${option.type} is not a supported type`);\r\n        }\r\n        patternOption.pattern = PATTERNS[type];\r\n      }\r\n\r\n      return patternOption;\r\n    });\r\n  }\r\n\r\n  getParsedText() {\r\n    if (!this.props.parse) { return this.props.children; }\r\n    if (typeof this.props.children !== 'string') { return this.props.children; }\r\n\r\n    const textExtraction = new TextExtraction(this.props.children, this.getPatterns());\r\n    const childrenProps = this.props.childrenProps || {};\r\n    const props = { ...this.props };\r\n    delete props.childrenProps;\r\n    return textExtraction.parse().map((props, index) => (\r\n      <ReactNative.Text\r\n        key={`parsedText-${index}`}\r\n        {...childrenProps}\r\n        {...props}\r\n      />\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    const props = { ...this.props };\r\n    delete props.childrenProps;\r\n    return (\r\n      <ReactNative.Text\r\n        ref={ref => this._root = ref}\r\n        {...props}\r\n      >\r\n        {this.getParsedText()}\r\n      </ReactNative.Text>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ParsedText;\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {\r\n  Linking,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  ViewPropTypes,\r\n} from 'react-native';\r\nimport ParsedText from './ParsedText';\r\n\r\nconst WWW_URL_PATTERN = /^www\\./i;\r\n\r\nexport default class MessageText extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.onUrlPress = this.onUrlPress.bind(this);\r\n    this.onPhonePress = this.onPhonePress.bind(this);\r\n    this.onEmailPress = this.onEmailPress.bind(this);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    return this.props.currentMessage.text !== nextProps.currentMessage.text;\r\n  }\r\n\r\n  onUrlPress(url) {\r\n    // When someone sends a message that includes a website address beginning with \"www.\" (omitting the scheme),\r\n    // react-native-parsed-text recognizes it as a valid url, but Linking fails to open due to the missing scheme.\r\n    if (WWW_URL_PATTERN.test(url)) {\r\n      this.onUrlPress(`http://${url}`);\r\n    } else {\r\n      Linking.canOpenURL(url).then((supported) => {\r\n        if (!supported) {\r\n          // eslint-disable-next-line\r\n          console.error('No handler for URL:', url);\r\n        } else {\r\n          Linking.openURL(url);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  onPhonePress(phone) {\r\n    const options = ['Call', 'Text', 'Cancel'];\r\n    const cancelButtonIndex = options.length - 1;\r\n    this.context.actionSheet().showActionSheetWithOptions({\r\n      options,\r\n      cancelButtonIndex,\r\n    },\r\n    (buttonIndex) => {\r\n      // switch (buttonIndex) {\r\n      //   case 0:\r\n      //     Communications.phonecall(phone, true);\r\n      //     break;\r\n      //   case 1:\r\n      //     Communications.text(phone);\r\n      //     break;\r\n      // }\r\n    });\r\n  }\r\n\r\n  onEmailPress(email) {\r\n    // Communications.email(email, null, null, null, null);\r\n  }\r\n\r\n  render() {\r\n    const linkStyle = StyleSheet.flatten([styles[this.props.position].link, this.props.linkStyle[this.props.position]]);\r\n    return (\r\n      <View style={[styles[this.props.position].container, this.props.containerStyle[this.props.position]]}>\r\n        <ParsedText\r\n          style={[\r\n            styles[this.props.position].text,\r\n            this.props.textStyle[this.props.position],\r\n            this.props.customTextStyle,\r\n          ]}\r\n          parse={[\r\n            ...this.props.parsePatterns(linkStyle),\r\n            { type: 'url', style: linkStyle, onPress: this.onUrlPress },\r\n            { type: 'phone', style: linkStyle, onPress: this.onPhonePress },\r\n            { type: 'email', style: linkStyle, onPress: this.onEmailPress },\r\n          ]}\r\n          childrenProps={{ ...this.props.textProps }}\r\n        >\r\n          {this.props.currentMessage.text}\r\n        </ParsedText>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst textStyle = {\r\n  fontSize: 16,\r\n  lineHeight: 20,\r\n  marginTop: 5,\r\n  marginBottom: 5,\r\n  marginLeft: 10,\r\n  marginRight: 10,\r\n};\r\n\r\nconst styles = {\r\n  left: StyleSheet.create({\r\n    container: {},\r\n    text: {\r\n      color: 'black',\r\n      ...textStyle,\r\n    },\r\n    link: {\r\n      color: 'black',\r\n      textDecorationLine: 'underline',\r\n    },\r\n  }),\r\n  right: StyleSheet.create({\r\n    container: {},\r\n    text: {\r\n      color: 'white',\r\n      ...textStyle,\r\n    },\r\n    link: {\r\n      color: 'white',\r\n      textDecorationLine: 'underline',\r\n    },\r\n  }),\r\n};\r\n\r\nMessageText.contextTypes = {\r\n  actionSheet: PropTypes.func,\r\n};\r\n\r\nMessageText.defaultProps = {\r\n  position: 'left',\r\n  currentMessage: {\r\n    text: '',\r\n  },\r\n  containerStyle: {},\r\n  textStyle: {},\r\n  linkStyle: {},\r\n  customTextStyle: {},\r\n  textProps: {},\r\n  parsePatterns: () => [],\r\n};\r\n\r\nMessageText.propTypes = {\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  containerStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n  textStyle: PropTypes.shape({\r\n    left: Text.propTypes.style,\r\n    right: Text.propTypes.style,\r\n  }),\r\n  linkStyle: PropTypes.shape({\r\n    left: Text.propTypes.style,\r\n    right: Text.propTypes.style,\r\n  }),\r\n  parsePatterns: PropTypes.func,\r\n  textProps: PropTypes.object,\r\n  customTextStyle: Text.propTypes.style,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {\r\n  Image,\r\n  StyleSheet,\r\n  View,\r\n  ViewPropTypes,\r\n  Dimensions,\r\n} from 'react-native';\r\nimport Lightbox from 'react-image-lightbox';\r\nimport 'react-image-lightbox/style.css';\r\nimport TouchableOpacity from './TouchableOpacity';\r\n\r\nexport default class MessageImage extends React.Component {\r\n  state = {\r\n    isOpen: false,\r\n    messageIndex: 0,\r\n  };\r\n\r\n  onClickImage = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (state.isOpen) {\r\n      return {};\r\n    }\r\n    const { imageMessages, currentMessage } = props;\r\n    const messagesIds = imageMessages.map(item => item.id);\r\n    const messageIndex = messagesIds.indexOf(currentMessage.id);\r\n    return { messageIndex };\r\n  }\r\n\r\n  render() {\r\n    const { imageMessages, currentMessage, imageProps, containerStyle, imageStyle } = this.props;\r\n    const { isOpen, messageIndex } = this.state;\r\n    if (isOpen) { console.log('messageIndex', messageIndex); }\r\n    return (\r\n      <TouchableOpacity\r\n        onPress={this.onClickImage}\r\n        style={{ ...styles.container, ...containerStyle }}\r\n      >\r\n        <Image\r\n          {...imageProps}\r\n          style={[styles.image, this.props.imageStyle]}\r\n          source={{ uri: currentMessage.image }}\r\n        />\r\n        {isOpen && (\r\n          <Lightbox\r\n            onCloseRequest={() => this.setState({ isOpen: false })}\r\n            mainSrc={imageMessages[messageIndex].image}\r\n            nextSrc={imageMessages[(messageIndex + 1) % imageMessages.length].image}\r\n            prevSrc={imageMessages[(messageIndex + imageMessages.length - 1) % imageMessages.length].image}\r\n            onMovePrevRequest={() => this.setState({\r\n              messageIndex: (messageIndex + imageMessages.length - 1) % imageMessages.length,\r\n            })\r\n            }\r\n            onMoveNextRequest={() => this.setState({\r\n              messageIndex: (messageIndex + 1) % imageMessages.length,\r\n            })\r\n            }\r\n\r\n          />\r\n        )}\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {},\r\n  image: {\r\n    width: 150,\r\n    height: 100,\r\n    borderRadius: 13,\r\n    margin: 3,\r\n    resizeMode: 'cover',\r\n  },\r\n  imageActive: {\r\n    flex: 1,\r\n    resizeMode: 'contain',\r\n  },\r\n});\r\n\r\nMessageImage.defaultProps = {\r\n  currentMessage: {\r\n    image: null,\r\n  },\r\n  containerStyle: {},\r\n  imageStyle: {},\r\n  imageProps: {},\r\n  lightboxProps: {},\r\n};\r\n\r\nMessageImage.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  containerStyle: ViewPropTypes.style,\r\n  imageStyle: Image.propTypes.style,\r\n  imageProps: PropTypes.object,\r\n  lightboxProps: PropTypes.object,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, View, ViewPropTypes } from 'react-native';\r\n//import Video from 'react-native-video';\r\n\r\n\r\nexport default function MessageVideo({\r\n  containerStyle,\r\n  videoProps,\r\n  videoStyle,\r\n  currentMessage,\r\n}) {\r\n  return (\r\n    // eslint-disable-next-line no-use-before-define\r\n    <View style={[styles.container, containerStyle]}>\r\n{/* \r\n      <Video\r\n        {...videoProps}\r\n        ref={(r) => { this.player = r; }}\r\n        source={{ uri: currentMessage.video }}\r\n        style={videoStyle}\r\n        resizeMode=\"cover\"\r\n        onBuffer={this.onBuffer}\r\n        onLoadStart={this.onLoadStart}\r\n        onLoad={this.onLoad}\r\n      /> */}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n  },\r\n});\r\n\r\nMessageVideo.defaultProps = {\r\n  currentMessage: {\r\n    // video: null,\r\n  },\r\n  containerStyle: {},\r\n  videoStyle: {\r\n    width: 150,\r\n    height: 100,\r\n    borderRadius: 13,\r\n    margin: 3,\r\n  },\r\n  videoProps: {},\r\n};\r\n\r\nMessageVideo.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  containerStyle: ViewPropTypes.style,\r\n  videoStyle: ViewPropTypes.style,\r\n  videoProps: PropTypes.object,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, Text, View, ViewPropTypes } from 'react-native';\r\n\r\nimport moment from 'moment';\r\n\r\nimport Color from './Color';\r\nimport { TIME_FORMAT } from './Constant';\r\n\r\nexport default function Time(\r\n  { position, containerStyle, currentMessage, timeFormat, textStyle, timeTextStyle },\r\n  context,\r\n) {\r\n  return (\r\n    <View style={[styles[position].container, containerStyle[position]]}>\r\n      <Text style={[styles[position].text, textStyle[position], timeTextStyle[position]]}>\r\n        {moment(currentMessage.createdAt)\r\n          .locale(context.getLocale())\r\n          .format(timeFormat)}\r\n      </Text>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst containerStyle = {\r\n  marginLeft: 10,\r\n  marginRight: 10,\r\n  marginBottom: 5,\r\n};\r\n\r\nconst textStyle = {\r\n  fontSize: 10,\r\n  backgroundColor: 'transparent',\r\n  textAlign: 'right',\r\n};\r\n\r\nconst styles = {\r\n  left: StyleSheet.create({\r\n    container: {\r\n      ...containerStyle,\r\n    },\r\n    text: {\r\n      color: Color.timeTextColor,\r\n      ...textStyle,\r\n    },\r\n  }),\r\n  right: StyleSheet.create({\r\n    container: {\r\n      ...containerStyle,\r\n    },\r\n    text: {\r\n      color: Color.white,\r\n      ...textStyle,\r\n    },\r\n  }),\r\n};\r\n\r\nTime.contextTypes = {\r\n  getLocale: PropTypes.func,\r\n};\r\n\r\nTime.defaultProps = {\r\n  position: 'left',\r\n  currentMessage: {\r\n    createdAt: null,\r\n  },\r\n  containerStyle: {},\r\n  textStyle: {},\r\n  timeFormat: TIME_FORMAT,\r\n  timeTextStyle: {},\r\n};\r\n\r\nTime.propTypes = {\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  containerStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n  textStyle: PropTypes.shape({\r\n    left: Text.propTypes.style,\r\n    right: Text.propTypes.style,\r\n  }),\r\n  timeFormat: PropTypes.string,\r\n  timeTextStyle: PropTypes.shape({\r\n    left: Text.propTypes.style,\r\n    right: Text.propTypes.style,\r\n  }),\r\n};\r\n","export const MIN_COMPOSER_HEIGHT = 41;\r\nexport const MAX_COMPOSER_HEIGHT = 41;\r\nexport const DEFAULT_PLACEHOLDER = 'Type a message...';\r\nexport const DATE_FORMAT = 'll';\r\nexport const TIME_FORMAT = 'LT';\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { Text, Clipboard, StyleSheet, View, ViewPropTypes } from 'react-native';\r\n\r\n\r\nimport MessageText from './MessageText';\r\nimport MessageImage from './MessageImage';\r\nimport MessageVideo from './MessageVideo';\r\n\r\nimport Time from './Time';\r\nimport Color from './Color';\r\n\r\nimport { isSameUser, isSameDay } from './utils';\r\nimport TouchableOpacity from './TouchableOpacity';\r\n\r\nexport default class Bubble extends React.Component {\r\n\r\n  onLongPress = () => {\r\n    if (this.props.onLongPress) {\r\n      this.props.onLongPress(this.context, this.props.currentMessage);\r\n    } else if (this.props.currentMessage.text) {\r\n      const options = ['Copy Text', 'Cancel'];\r\n      const cancelButtonIndex = options.length - 1;\r\n      this.context.actionSheet().showActionSheetWithOptions(\r\n        {\r\n          options,\r\n          cancelButtonIndex,\r\n        },\r\n        (buttonIndex) => {\r\n          switch (buttonIndex) {\r\n            case 0:\r\n              Clipboard.setString(this.props.currentMessage.text);\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        },\r\n      );\r\n    }\r\n  };\r\n\r\n  handleBubbleToNext() {\r\n    if (\r\n      isSameUser(this.props.currentMessage, this.props.nextMessage) &&\r\n      isSameDay(this.props.currentMessage, this.props.nextMessage)\r\n    ) {\r\n      return StyleSheet.flatten([\r\n        styles[this.props.position].containerToNext,\r\n        this.props.containerToNextStyle[this.props.position],\r\n      ]);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  handleBubbleToPrevious() {\r\n    if (\r\n      isSameUser(this.props.currentMessage, this.props.previousMessage) &&\r\n      isSameDay(this.props.currentMessage, this.props.previousMessage)\r\n    ) {\r\n      return StyleSheet.flatten([\r\n        styles[this.props.position].containerToPrevious,\r\n        this.props.containerToPreviousStyle[this.props.position],\r\n      ]);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderMessageText() {\r\n    if (this.props.currentMessage.text) {\r\n      const { containerStyle, wrapperStyle, ...messageTextProps } = this.props;\r\n      if (this.props.renderMessageText) {\r\n        return this.props.renderMessageText(messageTextProps);\r\n      }\r\n      return <MessageText {...messageTextProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderMessageImage() {\r\n    if (this.props.currentMessage.image) {\r\n      const { containerStyle, wrapperStyle, ...messageImageProps } = this.props;\r\n      if (this.props.renderMessageImage) {\r\n        return this.props.renderMessageImage(messageImageProps);\r\n      }\r\n      return <MessageImage {...messageImageProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderMessageVideo() {\r\n    if (this.props.currentMessage.video) {\r\n      const { containerStyle, wrapperStyle, ...messageVideoProps } = this.props;\r\n      if (this.props.renderMessageVideo) {\r\n        return this.props.renderMessageVideo(messageVideoProps);\r\n      }\r\n      return <MessageVideo {...messageVideoProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderTicks() {\r\n    const { currentMessage } = this.props;\r\n    if (this.props.renderTicks) {\r\n      return this.props.renderTicks(currentMessage);\r\n    }\r\n    if (currentMessage.user.id !== this.props.user.id) {\r\n        return;\r\n    }\r\n    if (currentMessage.sent || currentMessage.received || currentMessage.pending) {\r\n      return (\r\n        <View style={styles.tickView}>\r\n          {currentMessage.sent && <Text style={[styles.tick, this.props.tickStyle]}>✓</Text>}\r\n          {currentMessage.received && <Text style={[styles.tick, this.props.tickStyle]}>✓</Text>}\r\n          {currentMessage.pending && <Text style={[styles.tick, this.props.tickStyle]}>🕓</Text>}\r\n        </View>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderTime() {\r\n    if (this.props.currentMessage.createdAt) {\r\n      const { containerStyle, wrapperStyle, ...timeProps } = this.props;\r\n      if (this.props.renderTime) {\r\n        return this.props.renderTime(timeProps);\r\n      }\r\n      return <Time {...timeProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderUsername() {\r\n    const { currentMessage } = this.props;\r\n    if (this.props.renderUsernameOnMessage) {\r\n      if (currentMessage.user.id === this.props.user.id) {\r\n        return null;\r\n      }\r\n      return (\r\n        <View style={styles.usernameView}>\r\n          <Text style={[styles.username, this.props.usernameStyle]}>~ {currentMessage.user.name}</Text>\r\n        </View>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderCustomView() {\r\n    if (this.props.renderCustomView) {\r\n      return this.props.renderCustomView(this.props);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <View style={[styles[this.props.position].container, this.props.containerStyle[this.props.position]]}>\r\n        <View\r\n          style={[\r\n            styles[this.props.position].wrapper,\r\n            this.props.wrapperStyle[this.props.position],\r\n            this.handleBubbleToNext(),\r\n            this.handleBubbleToPrevious(),\r\n          ]}\r\n        >\r\n          <TouchableOpacity\r\n            withoutFeedback\r\n            onLongPress={this.onLongPress}\r\n            accessibilityTraits=\"text\"\r\n            {...this.props.touchableProps}\r\n          >\r\n            <View>\r\n              {this.renderCustomView()}\r\n              {this.renderMessageImage()}\r\n              {this.renderMessageVideo()}\r\n              {this.renderMessageText()}\r\n              <View style={[styles[this.props.position].bottom, this.props.bottomContainerStyle[this.props.position]]}>\r\n                {this.renderUsername()}\r\n                {this.renderTime()}\r\n                {this.renderTicks()}\r\n              </View>\r\n            </View>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = {\r\n  left: StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      alignItems: 'flex-start',\r\n    },\r\n    wrapper: {\r\n      borderRadius: 15,\r\n      backgroundColor: Color.leftBubbleBackground,\r\n      marginRight: 60,\r\n      minHeight: 20,\r\n      justifyContent: 'flex-end',\r\n    },\r\n    containerToNext: {\r\n      borderBottomLeftRadius: 3,\r\n    },\r\n    containerToPrevious: {\r\n      borderTopLeftRadius: 3,\r\n    },\r\n    bottom: {\r\n      flexDirection: 'row',\r\n      justifyContent: 'flex-start',\r\n    },\r\n  }),\r\n  right: StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      alignItems: 'flex-end',\r\n    },\r\n    wrapper: {\r\n      borderRadius: 15,\r\n      backgroundColor: Color.defaultBlue,\r\n      marginLeft: 60,\r\n      minHeight: 20,\r\n      justifyContent: 'flex-end',\r\n    },\r\n    containerToNext: {\r\n      borderBottomRightRadius: 3,\r\n    },\r\n    containerToPrevious: {\r\n      borderTopRightRadius: 3,\r\n    },\r\n    bottom: {\r\n      flexDirection: 'row',\r\n      justifyContent: 'flex-end',\r\n    },\r\n  }),\r\n  tick: {\r\n    fontSize: 10,\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.white,\r\n  },\r\n  tickView: {\r\n    flexDirection: 'row',\r\n    marginRight: 10,\r\n  },\r\n  username: {\r\n    top: -3,\r\n    left: 0,\r\n    fontSize: 12,\r\n    backgroundColor: 'transparent',\r\n    color: '#aaa',\r\n  },\r\n  usernameView: {\r\n    flexDirection: 'row',\r\n    marginHorizontal: 10,\r\n  },\r\n};\r\n\r\nBubble.contextTypes = {\r\n  actionSheet: PropTypes.func,\r\n};\r\n\r\nBubble.defaultProps = {\r\n  touchableProps: {},\r\n  onLongPress: null,\r\n  renderMessageImage: null,\r\n  renderMessageVideo: null,\r\n  renderMessageText: null,\r\n  renderCustomView: null,\r\n  renderUsername: null,\r\n  renderTicks: null,\r\n  renderTime: null,\r\n  position: 'left',\r\n  currentMessage: {\r\n    text: null,\r\n    createdAt: null,\r\n    image: null,\r\n  },\r\n  nextMessage: {},\r\n  previousMessage: {},\r\n  containerStyle: {},\r\n  wrapperStyle: {},\r\n  bottomContainerStyle: {},\r\n  tickStyle: {},\r\n  usernameStyle: {},\r\n  containerToNextStyle: {},\r\n  containerToPreviousStyle: {},\r\n};\r\n\r\nBubble.propTypes = {\r\n  user: PropTypes.object.isRequired,\r\n  touchableProps: PropTypes.object,\r\n  onLongPress: PropTypes.func,\r\n  renderMessageImage: PropTypes.func,\r\n  renderMessageVideo: PropTypes.func,\r\n  renderMessageText: PropTypes.func,\r\n  renderCustomView: PropTypes.func,\r\n  renderUsernameOnMessage: PropTypes.bool,\r\n  renderUsername: PropTypes.func,\r\n  renderTime: PropTypes.func,\r\n  renderTicks: PropTypes.func,\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  nextMessage: PropTypes.object,\r\n  previousMessage: PropTypes.object,\r\n  containerStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n  wrapperStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n  bottomContainerStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n  tickStyle: Text.propTypes.style,\r\n  usernameStyle: Text.propTypes.style,\r\n  containerToNextStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n  containerToPreviousStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport React from 'react';\r\nimport { StyleSheet, Text, View, ViewPropTypes } from 'react-native';\r\nimport PropTypes from 'prop-types';\r\nimport Color from './Color';\r\n\r\nexport default function SystemMessage({ currentMessage, containerStyle, wrapperStyle, textStyle }) {\r\n  return (\r\n    <View style={[styles.container, containerStyle]}>\r\n      <View style={[styles.wrapper, wrapperStyle]}>\r\n        <Text style={[styles.text, textStyle]}>{currentMessage.text}</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    flex: 1,\r\n    marginTop: 5,\r\n    marginBottom: 10,\r\n  },\r\n  text: {\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.defaultColor,\r\n    fontSize: 12,\r\n    fontWeight: '300',\r\n  },\r\n});\r\n\r\nSystemMessage.defaultProps = {\r\n  currentMessage: {\r\n    system: false,\r\n  },\r\n  containerStyle: {},\r\n  wrapperStyle: {},\r\n  textStyle: {},\r\n};\r\n\r\nSystemMessage.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  containerStyle: ViewPropTypes.style,\r\n  wrapperStyle: ViewPropTypes.style,\r\n  textStyle: Text.propTypes.style,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, TextInput } from 'react-native';\r\n\r\nimport { MIN_COMPOSER_HEIGHT, DEFAULT_PLACEHOLDER } from './Constant';\r\nimport Color from './Color';\r\n\r\nexport default class Composer extends React.Component {\r\n  onContentSizeChange(e) {\r\n    const { contentSize } = e.nativeEvent;\r\n\r\n    // Support earlier versions of React Native on Android.\r\n    if (!contentSize) return;\r\n\r\n    if (\r\n      !this.contentSize\r\n      || this.contentSize.width !== contentSize.width\r\n      || this.contentSize.height !== contentSize.height\r\n    ) {\r\n      this.contentSize = contentSize;\r\n      this.props.onInputSizeChanged(this.contentSize);\r\n    }\r\n  }\r\n\r\n  onChangeText(text) {\r\n    this.props.onTextChanged(text);\r\n  }\r\n\r\n  onKeyDown(e) {\r\n    const { text, onSend } = this.props;\r\n    if (e.keyCode === 13 && e.shiftKey === false) {\r\n      onSend({ text: text.trim() }, true);\r\n      e.preventDefault();\r\n    }\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <textarea\r\n        testID={this.props.placeholder}\r\n        accessible\r\n        onKeyDown={e => this.onKeyDown(e)}\r\n        accessibilityLabel={this.props.placeholder}\r\n        placeholder={this.props.placeholder}\r\n        placeholderTextColor={this.props.placeholderTextColor}\r\n        multiline={this.props.multiline}\r\n        onChange={event => this.onChangeText(event.target.value)}\r\n        style={{ ...styles.textInput, ...this.props.textInputStyle }}\r\n        value={this.props.text}\r\n        enablesReturnKeyAutomatically\r\n        underlineColorAndroid=\"transparent\"\r\n        keyboardAppearance={this.props.keyboardAppearance}\r\n        {...this.props.textInputProps}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  textInput: {\r\n    marginLeft: 10,\r\n    fontSize: 16,\r\n    lineHeight: '16px',\r\n    paddingTop: 3,\r\n    paddingBottom: 3,\r\n    outline: 'none',\r\n    border: 'none',\r\n    overflow: 'auto',\r\n    boxShadow: 'none',\r\n    resize: 'none',\r\n    width: '100%',\r\n  },\r\n};\r\n\r\n\r\nComposer.defaultProps = {\r\n  composerHeight: MIN_COMPOSER_HEIGHT,\r\n  text: '',\r\n  placeholderTextColor: Color.defaultProps,\r\n  placeholder: DEFAULT_PLACEHOLDER,\r\n  textInputProps: null,\r\n  multiline: true,\r\n  textInputStyle: {},\r\n  textInputAutoFocus: false,\r\n  keyboardAppearance: 'default',\r\n  onTextChanged: () => {},\r\n  onInputSizeChanged: () => {},\r\n};\r\n\r\nComposer.propTypes = {\r\n  composerHeight: PropTypes.number,\r\n  text: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  placeholderTextColor: PropTypes.string,\r\n  textInputProps: PropTypes.object,\r\n  onTextChanged: PropTypes.func,\r\n  onInputSizeChanged: PropTypes.func,\r\n  multiline: PropTypes.bool,\r\n  textInputStyle: TextInput.propTypes.style,\r\n  textInputAutoFocus: PropTypes.bool,\r\n  keyboardAppearance: PropTypes.string,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, Text, View, ViewPropTypes } from 'react-native';\r\nimport moment from 'moment';\r\n\r\nimport Color from './Color';\r\n\r\nimport { isSameDay } from './utils';\r\nimport { DATE_FORMAT } from './Constant';\r\n\r\nexport default function Day(\r\n  { dateFormat, currentMessage, previousMessage, nextMessage, containerStyle, wrapperStyle, textStyle, inverted },\r\n  context,\r\n) {\r\n  if (!isSameDay(currentMessage, inverted ? previousMessage : nextMessage)) {\r\n    return (\r\n      <View style={[styles.container, containerStyle]}>\r\n        <View style={wrapperStyle}>\r\n          <Text style={[styles.text, textStyle]}>\r\n            {moment(currentMessage.createdAt)\r\n              .locale(context.getLocale())\r\n              .format(dateFormat)\r\n              .toUpperCase()}\r\n          </Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n  return null;\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginTop: 5,\r\n    marginBottom: 10,\r\n  },\r\n  text: {\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.defaultColor,\r\n    fontSize: 12,\r\n    fontWeight: '600',\r\n  },\r\n});\r\n\r\nDay.contextTypes = {\r\n  getLocale: PropTypes.func,\r\n};\r\n\r\nDay.defaultProps = {\r\n  currentMessage: {\r\n    // TODO: test if crash when createdAt === null\r\n    createdAt: null,\r\n  },\r\n  previousMessage: {},\r\n  nextMessage: {},\r\n  containerStyle: {},\r\n  wrapperStyle: {},\r\n  textStyle: {},\r\n  dateFormat: DATE_FORMAT,\r\n};\r\n\r\nDay.propTypes = {\r\n  currentMessage: PropTypes.object,\r\n  previousMessage: PropTypes.object,\r\n  nextMessage: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  containerStyle: ViewPropTypes.style,\r\n  wrapperStyle: ViewPropTypes.style,\r\n  textStyle: Text.propTypes.style,\r\n  dateFormat: PropTypes.string,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, Text, View, ViewPropTypes } from 'react-native';\r\nimport Color from './Color';\r\nimport TouchableOpacity from './TouchableOpacity';\r\n\r\nexport default function Send({ text, containerStyle, onSend, children, textStyle, label, alwaysShowSend }) {\r\n  if (alwaysShowSend || text.trim().length > 0) {\r\n    return (\r\n      <TouchableOpacity\r\n        testID=\"send\"\r\n        accessible\r\n        accessibilityLabel=\"send\"\r\n        style={{ ...styles.container, ...containerStyle }}\r\n        onPress={() => {\r\n          console.log('asdasdasd')\r\n          onSend({ text: text.trim() }, true);\r\n        }}\r\n        accessibilityTraits=\"button\"\r\n      >\r\n        <View>{children || <Text style={[styles.text, textStyle]}>{label}</Text>}</View>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n  return <View />;\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    height: 44,\r\n    justifyContent: 'flex-end',\r\n  },\r\n  text: {\r\n    color: Color.defaultBlue,\r\n    fontWeight: '600',\r\n    fontSize: 17,\r\n    backgroundColor: Color.backgroundTransparent,\r\n    marginBottom: 12,\r\n    marginLeft: 10,\r\n    marginRight: 10,\r\n  },\r\n});\r\n\r\nSend.defaultProps = {\r\n  text: '',\r\n  onSend: () => {},\r\n  label: 'Send',\r\n  containerStyle: {},\r\n  textStyle: {},\r\n  children: null,\r\n  alwaysShowSend: false,\r\n};\r\n\r\nSend.propTypes = {\r\n  text: PropTypes.string,\r\n  onSend: PropTypes.func,\r\n  label: PropTypes.string,\r\n  containerStyle: ViewPropTypes.style,\r\n  textStyle: Text.propTypes.style,\r\n  children: PropTypes.element,\r\n  alwaysShowSend: PropTypes.bool,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }] */\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { StyleSheet, View, Keyboard, ViewPropTypes } from 'react-native';\r\n\r\nimport Composer from './Composer';\r\nimport Send from './Send';\r\nimport Actions from './Actions';\r\nimport Color from './Color';\r\n\r\nexport default class InputToolbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.keyboardWillShow = this.keyboardWillShow.bind(this);\r\n    this.keyboardWillHide = this.keyboardWillHide.bind(this);\r\n\r\n    this.state = {\r\n      position: 'static',\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.keyboardWillShowListener = Keyboard.addListener('keyboardWillShow', this.keyboardWillShow);\r\n    this.keyboardWillHideListener = Keyboard.addListener('keyboardWillHide', this.keyboardWillHide);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.keyboardWillShowListener.remove();\r\n    this.keyboardWillHideListener.remove();\r\n  }\r\n\r\n  keyboardWillShow() {\r\n    if (this.state.position !== 'relative') {\r\n      this.setState({\r\n        position: 'relative',\r\n      });\r\n    }\r\n  }\r\n\r\n  keyboardWillHide() {\r\n    if (this.state.position !== 'absolute') {\r\n      this.setState({\r\n        position: 'absolute',\r\n      });\r\n    }\r\n  }\r\n\r\n  renderActions() {\r\n    if (this.props.renderActions) {\r\n      return this.props.renderActions(this.props);\r\n    } if (this.props.onPressActionButton) {\r\n      return <Actions {...this.props} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderSend() {\r\n    if (this.props.renderSend) {\r\n      return this.props.renderSend(this.props);\r\n    }\r\n    return <Send {...this.props} />;\r\n  }\r\n\r\n  renderComposer() {\r\n    if (this.props.renderComposer) {\r\n      return this.props.renderComposer(this.props);\r\n    }\r\n\r\n    return <Composer {...this.props} />;\r\n  }\r\n\r\n  renderAccessory() {\r\n    if (this.props.renderAccessory) {\r\n      return (\r\n        <View style={[styles.accessory, this.props.accessoryStyle]}>{this.props.renderAccessory(this.props)}</View>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <View style={[styles.container, this.props.containerStyle, { position: this.state.position, height: this.props.composerHeight }]}>\r\n        <View style={[styles.primary, this.props.primaryStyle]}>\r\n          {this.renderActions()}\r\n          {this.renderComposer()}\r\n          {this.renderSend()}\r\n        </View>\r\n        {this.renderAccessory()}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    borderTopWidth: StyleSheet.hairlineWidth,\r\n    borderTopColor: Color.defaultColor,\r\n    backgroundColor: Color.white,\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  primary: {\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-end',\r\n  },\r\n  accessory: {\r\n    height: 44,\r\n  },\r\n});\r\n\r\nInputToolbar.defaultProps = {\r\n  renderAccessory: null,\r\n  renderActions: null,\r\n  renderSend: null,\r\n  renderComposer: null,\r\n  containerStyle: {},\r\n  primaryStyle: {},\r\n  accessoryStyle: {},\r\n  onPressActionButton: () => {},\r\n};\r\n\r\nInputToolbar.propTypes = {\r\n  renderAccessory: PropTypes.func,\r\n  renderActions: PropTypes.func,\r\n  renderSend: PropTypes.func,\r\n  renderComposer: PropTypes.func,\r\n  onPressActionButton: PropTypes.func,\r\n  containerStyle: ViewPropTypes.style,\r\n  primaryStyle: ViewPropTypes.style,\r\n  accessoryStyle: ViewPropTypes.style,\r\n};\r\n","/* eslint no-use-before-define: [\"error\", { \"variables\": false }]*/\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport {\r\n  ActivityIndicator,\r\n  StyleSheet,\r\n  Text,\r\n  TouchableOpacity,\r\n  View,\r\n  ViewPropTypes,\r\n} from 'react-native';\r\nimport Color from './Color';\r\n\r\nexport default class LoadEarlier extends React.Component {\r\n\r\n  renderLoading() {\r\n    if (this.props.isLoadingEarlier === false) {\r\n      return (\r\n        <Text style={[styles.text, this.props.textStyle]}>\r\n          {this.props.label}\r\n        </Text>\r\n      );\r\n    }\r\n    return (\r\n      <View>\r\n        <Text style={[styles.textOpaque, this.props.textStyle]}>\r\n          {this.props.label}\r\n        </Text>\r\n        <ActivityIndicator\r\n          color=\"white\"\r\n          size=\"small\"\r\n          style={[styles.activityIndicator, this.props.activityIndicatorStyle]}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <TouchableOpacity\r\n        style={[styles.container, this.props.containerStyle]}\r\n        onPress={() => {\r\n          if (this.props.onLoadEarlier) {\r\n            this.props.onLoadEarlier();\r\n          }\r\n        }}\r\n        disabled={this.props.isLoadingEarlier === true}\r\n        accessibilityTraits=\"button\"\r\n      >\r\n        <View style={[styles.wrapper, this.props.wrapperStyle]}>\r\n          {this.renderLoading()}\r\n        </View>\r\n      </TouchableOpacity>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    alignItems: 'center',\r\n    marginTop: 5,\r\n    marginBottom: 10,\r\n  },\r\n  wrapper: {\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    backgroundColor: Color.defaultColor,\r\n    borderRadius: 15,\r\n    height: 30,\r\n    paddingLeft: 10,\r\n    paddingRight: 10,\r\n  },\r\n  text: {\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.white,\r\n    fontSize: 12,\r\n  },\r\n  textOpaque: {\r\n    backgroundColor: Color.backgroundTransparent,\r\n    color: Color.white,\r\n    fontSize: 12,\r\n    opacity: 0\r\n  },\r\n  activityIndicator: {\r\n    marginTop: 0,\r\n  },\r\n});\r\n\r\nLoadEarlier.defaultProps = {\r\n  onLoadEarlier: () => { },\r\n  isLoadingEarlier: false,\r\n  label: 'Load earlier messages',\r\n  containerStyle: {},\r\n  wrapperStyle: {},\r\n  textStyle: {},\r\n  activityIndicatorStyle: {},\r\n};\r\n\r\nLoadEarlier.propTypes = {\r\n  onLoadEarlier: PropTypes.func,\r\n  isLoadingEarlier: PropTypes.bool,\r\n  label: PropTypes.string,\r\n  containerStyle: ViewPropTypes.style,\r\n  wrapperStyle: ViewPropTypes.style,\r\n  textStyle: Text.propTypes.style,\r\n  activityIndicatorStyle: ViewPropTypes.style,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { View, ViewPropTypes, StyleSheet } from 'react-native';\r\n\r\nimport Avatar from './Avatar';\r\nimport Bubble from './Bubble';\r\nimport SystemMessage from './SystemMessage';\r\nimport Day from './Day';\r\n\r\nimport { isSameUser, isSameDay } from './utils';\r\n\r\nconst styles = {\r\n  left: StyleSheet.create({\r\n    container: {\r\n      flexDirection: 'row',\r\n      alignItems: 'flex-end',\r\n      justifyContent: 'flex-start',\r\n      marginLeft: 8,\r\n      marginRight: 0,\r\n    },\r\n  }),\r\n  right: StyleSheet.create({\r\n    container: {\r\n      flexDirection: 'row',\r\n      alignItems: 'flex-end',\r\n      justifyContent: 'flex-end',\r\n      marginLeft: 0,\r\n      marginRight: 8,\r\n    },\r\n  }),\r\n};\r\n\r\nexport default class Message extends React.Component {\r\n\r\n  shouldComponentUpdate(nextProps) {\r\n    const next = nextProps.currentMessage;\r\n    const current = this.props.currentMessage;\r\n    const { previousMessage, nextMessage } = this.props;\r\n    const nextPropsMessage = nextProps.nextMessage;\r\n    const nextPropsPreviousMessage = nextProps.previousMessage;\r\n    const shouldUpdate = (this.props.shouldUpdateMessage &&\r\n        this.props.shouldUpdateMessage(this.props, nextProps)) ||\r\n        false;\r\n    return (next.sent !== current.sent ||\r\n        next.received !== current.received ||\r\n        next.pending !== current.pending ||\r\n        next.createdAt !== current.createdAt ||\r\n        next.text !== current.text ||\r\n        next.image !== current.image ||\r\n        next.video !== current.video ||\r\n        next.audio !== current.audio ||\r\n        previousMessage !== nextPropsPreviousMessage ||\r\n        nextMessage !== nextPropsMessage ||\r\n        shouldUpdate);\r\n}\r\n\r\n  getInnerComponentProps = () => {\r\n    const { containerStyle, ...props } = this.props;\r\n    return {\r\n      ...props,\r\n      isSameUser,\r\n      isSameDay,\r\n    };\r\n  };\r\n\r\n  renderDay() {\r\n    if (this.props.currentMessage.createdAt) {\r\n      const dayProps = this.getInnerComponentProps();\r\n      if (this.props.renderDay) {\r\n        return this.props.renderDay(dayProps);\r\n      }\r\n      return <Day {...dayProps} />;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderBubble() {\r\n    const bubbleProps = this.getInnerComponentProps();\r\n    if (this.props.renderBubble) {\r\n      return this.props.renderBubble(bubbleProps);\r\n    }\r\n    return <Bubble {...bubbleProps} />;\r\n  }\r\n\r\n  renderSystemMessage() {\r\n    const systemMessageProps = this.getInnerComponentProps();\r\n    if (this.props.renderSystemMessage) {\r\n      return this.props.renderSystemMessage(systemMessageProps);\r\n    }\r\n    return <SystemMessage {...systemMessageProps} />;\r\n  }\r\n\r\n  renderAvatar() {\r\n    if (this.props.user.id === this.props.currentMessage.user.id && !this.props.showUserAvatar) {\r\n      return null;\r\n    }\r\n    const avatarProps = this.getInnerComponentProps();\r\n    const { currentMessage } = avatarProps;\r\n    if (currentMessage.user.avatar === null) {\r\n      return null;\r\n    }\r\n    return <Avatar {...avatarProps} />;\r\n  }\r\n\r\n  render() {\r\n    const sameUser = isSameUser(this.props.currentMessage, this.props.nextMessage);\r\n    return (\r\n      <View>\r\n        {this.renderDay()}\r\n        {this.props.currentMessage.system ? (\r\n          this.renderSystemMessage()\r\n        ) : (\r\n          <View\r\n            style={[\r\n              styles[this.props.position].container,\r\n              { marginBottom: sameUser ? 2 : 10 },\r\n              !this.props.inverted && { marginBottom: 2 },\r\n              this.props.containerStyle[this.props.position],\r\n            ]}\r\n          >\r\n            {this.props.position === 'left' ? this.renderAvatar() : null}\r\n            {this.renderBubble()}\r\n            {this.props.position === 'right' ? this.renderAvatar() : null}\r\n          </View>\r\n        )}\r\n      </View>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nMessage.defaultProps = {\r\n  renderAvatar: undefined,\r\n  renderBubble: null,\r\n  renderDay: null,\r\n  renderSystemMessage: null,\r\n  position: 'left',\r\n  currentMessage: {},\r\n  nextMessage: {},\r\n  previousMessage: {},\r\n  user: {},\r\n  containerStyle: {},\r\n  showUserAvatar: true,\r\n  inverted: true,\r\n};\r\n\r\nMessage.propTypes = {\r\n  renderAvatar: PropTypes.func,\r\n  showUserAvatar: PropTypes.bool,\r\n  renderBubble: PropTypes.func,\r\n  renderDay: PropTypes.func,\r\n  renderSystemMessage: PropTypes.func,\r\n  position: PropTypes.oneOf(['left', 'right']),\r\n  currentMessage: PropTypes.object,\r\n  nextMessage: PropTypes.object,\r\n  previousMessage: PropTypes.object,\r\n  user: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  containerStyle: PropTypes.shape({\r\n    left: ViewPropTypes.style,\r\n    right: ViewPropTypes.style,\r\n  }),\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport React, { Component } from 'react';\r\n\r\nimport { FlatList, View, StyleSheet, Keyboard, TouchableOpacity, Text } from 'react-native';\r\n\r\nexport default class WebScrollView extends Component {\r\n  renderItem =(item, index) => {\r\n    const { renderItem } = this.props;\r\n    return renderItem({ item, index });\r\n  }\r\n\r\n  render() {\r\n    const { ListHeaderComponent, ListFooterComponent, data, inverted } = this.props;\r\n    let messages = data;\r\n    if (!inverted) {\r\n      messages = data.slice().reverse();\r\n    }\r\n    return (\r\n      <div style={styles.container}>\r\n        {ListHeaderComponent()}\r\n        {messages.map(this.renderItem)}\r\n        {ListFooterComponent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    height: '100%',\r\n    minHeight: '100%',\r\n    width: '100%',\r\n    overflow: 'auto',\r\n    display: 'flex',\r\n    flexDirection: 'column-reverse',\r\n    flex: 1,\r\n    alignItems: 'stretch',\r\n  },\r\n};\r\n\r\nWebScrollView.defaultProps = {\r\n  data: [],\r\n  extraData: {},\r\n  ListHeaderComponent: () => {},\r\n  ListFooterComponent: () => {},\r\n  inverted: false,\r\n};\r\n\r\nWebScrollView.propTypes = {\r\n  data: PropTypes.arrayOf(PropTypes.object),\r\n  extraData: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  renderFooter: PropTypes.func,\r\n  keyExtractor: PropTypes.func,\r\n  enableEmptySections: PropTypes.bool,\r\n  automaticallyAdjustContentInsets: PropTypes.bool,\r\n  contentContainerStyle: PropTypes.object,\r\n  renderItem: PropTypes.func,\r\n  ListHeaderComponent: PropTypes.func,\r\n  ListFooterComponent: PropTypes.func,\r\n};\r\n","/* eslint\r\n    no-console: 0,\r\n    no-param-reassign: 0,\r\n    no-use-before-define: [\"error\", { \"variables\": false }],\r\n    no-return-assign: 0,\r\n    react/no-string-refs: 0,\r\n    react/sort-comp: 0\r\n*/\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\n\r\nimport { FlatList, View, StyleSheet, Keyboard, Text } from 'react-native';\r\n\r\nimport LoadEarlier from './LoadEarlier';\r\nimport Message from './Message';\r\nimport Color from './Color';\r\nimport WebScrollView from './WebScrollView';\r\nimport TouchableOpacity from './TouchableOpacity';\r\n\r\nexport default class MessageContainer extends React.PureComponent {\r\n  state = {\r\n    showScrollBottom: false,\r\n    imageMessages: [],\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    const { messages } = props;\r\n    const imageMessages = messages.filter(item => item.image);\r\n    return { imageMessages };\r\n  }\r\n\r\n  renderFooter = () => {\r\n    if (this.props.renderFooter) {\r\n      const footerProps = {\r\n        ...this.props,\r\n      };\r\n      return this.props.renderFooter(footerProps);\r\n    }\r\n    return null;\r\n  };\r\n\r\n  renderLoadEarlier = () => {\r\n    if (this.props.loadEarlier === true) {\r\n      const loadEarlierProps = {\r\n        ...this.props,\r\n      };\r\n      if (this.props.renderLoadEarlier) {\r\n        return this.props.renderLoadEarlier(loadEarlierProps);\r\n      }\r\n      return (\r\n        <LoadEarlier {...loadEarlierProps} />\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n\r\n  scrollTo(options) {\r\n    // this._invertibleScrollViewRef.scrollTo(options);\r\n  }\r\n\r\n\r\n  scrollToBottom = () => {\r\n    this.scrollTo({ offset: 0, animated: 'true' });\r\n  }\r\n\r\n  renderRow = ({ item, index }) => {\r\n    if (!item.id && item.id !== 0) {\r\n      console.warn('GiftedChat: `id` is missing for message', JSON.stringify(item));\r\n    }\r\n    if (!item.user) {\r\n      if (!item.system) {\r\n        console.warn('GiftedChat: `user` is missing for message', JSON.stringify(item));\r\n      }\r\n      item.user = {};\r\n    }\r\n    const { messages, ...restProps } = this.props;\r\n    const previousMessage = messages[index + 1] || {};\r\n    const nextMessage = messages[index - 1] || {};\r\n    const { imageMessages } = this.state;\r\n\r\n    const messageProps = {\r\n      ...restProps,\r\n      key: item.id,\r\n      currentMessage: item,\r\n      previousMessage,\r\n      nextMessage,\r\n      position: item.user.id === this.props.user.id ? 'right' : 'left',\r\n      imageMessages,\r\n    };\r\n\r\n    if (this.props.renderMessage) {\r\n      return this.props.renderMessage(messageProps);\r\n    }\r\n    return <Message {...messageProps} />;\r\n  };\r\n\r\n  renderHeaderWrapper = () => <View style={styles.headerWrapper}>{this.renderLoadEarlier()}</View>;\r\n\r\n  renderScrollToBottomWrapper() {\r\n    const scrollToBottomComponent = (\r\n      <View style={styles.scrollToBottomStyle}>\r\n        <TouchableOpacity onPress={this.scrollToBottom} hitSlop={{ top: 5, left: 5, right: 5, bottom: 5 }}>\r\n          <Text>V</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    );\r\n\r\n    if (this.props.scrollToBottomComponent) {\r\n      return (\r\n        <TouchableOpacity onPress={this.scrollToBottom} hitSlop={{ top: 5, left: 5, right: 5, bottom: 5 }}>\r\n          {this.props.scrollToBottomComponent}\r\n        </TouchableOpacity>);\r\n    }\r\n    return scrollToBottomComponent;\r\n  }\r\n\r\n  keyExtractor = item => `${item.id}`;\r\n\r\n  render() {\r\n    if (this.props.messages.length === 0) {\r\n      return <View style={styles.container} />;\r\n    }\r\n    return (\r\n      <View\r\n        style={{ flex: 1 }}\r\n        onLayout={() => {\r\n          // this.flatListRef.current.scrollTo({x: 0, y: 0, animated: true});\r\n        }\r\n      }\r\n      >\r\n        {this.state.showScrollBottom && this.props.scrollToBottom ? this.renderScrollToBottomWrapper() : null}\r\n        <WebScrollView\r\n          ref={this.flatListRef}\r\n          keyExtractor={this.keyExtractor}\r\n          extraData={this.props.extraData}\r\n          enableEmptySections\r\n          automaticallyAdjustContentInsets={false}\r\n          inverted={this.props.inverted}\r\n          data={this.props.messages}\r\n          style={styles.listStyle}\r\n          contentContainerStyle={styles.contentContainerStyle}\r\n          renderItem={this.renderRow}\r\n          ListFooterComponent={this.renderHeaderWrapper}\r\n          ListHeaderComponent={this.renderFooter}\r\n        />\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  contentContainerStyle: {\r\n    justifyContent: 'flex-end',\r\n  },\r\n  headerWrapper: {\r\n    flex: 1,\r\n  },\r\n  listStyle: {\r\n    flex: 1,\r\n  },\r\n  scrollToBottomStyle: {\r\n    opacity: 0.8,\r\n    position: 'absolute',\r\n    paddingHorizontal: 15,\r\n    paddingVertical: 8,\r\n    right: 10,\r\n    bottom: 30,\r\n    zIndex: 999,\r\n    height: 40,\r\n    width: 40,\r\n    borderRadius: 20,\r\n    backgroundColor: Color.white,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    shadowColor: Color.black,\r\n    shadowOpacity: 0.5,\r\n    shadowOffset: { width: 0, height: 0 },\r\n    shadowRadius: 1,\r\n  },\r\n});\r\n\r\nMessageContainer.defaultProps = {\r\n  messages: [],\r\n  user: {},\r\n  renderFooter: null,\r\n  renderMessage: null,\r\n  onLoadEarlier: () => {},\r\n  inverted: true,\r\n  loadEarlier: false,\r\n  listViewProps: {},\r\n  invertibleScrollViewProps: {},\r\n  extraData: null,\r\n  scrollToBottom: false,\r\n  scrollToBottomOffset: 200,\r\n};\r\n\r\nMessageContainer.propTypes = {\r\n  messages: PropTypes.arrayOf(PropTypes.object),\r\n  user: PropTypes.object,\r\n  renderFooter: PropTypes.func,\r\n  renderMessage: PropTypes.func,\r\n  renderLoadEarlier: PropTypes.func,\r\n  onLoadEarlier: PropTypes.func,\r\n  listViewProps: PropTypes.object,\r\n  inverted: PropTypes.bool,\r\n  loadEarlier: PropTypes.bool,\r\n  invertibleScrollViewProps: PropTypes.object,\r\n  extraData: PropTypes.object,\r\n  scrollToBottom: PropTypes.bool,\r\n  scrollToBottomOffset: PropTypes.number,\r\n  scrollToBottomComponent: PropTypes.func,\r\n};\r\n","/* eslint\r\n    no-param-reassign: 0,\r\n    no-use-before-define: [\"error\", { \"variables\": false }],\r\n    no-return-assign: 0,\r\n    no-mixed-operators: 0,\r\n    react/sort-comp: 0\r\n*/\r\n\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { Animated, StyleSheet, View } from 'react-native';\r\n\r\nimport moment from 'moment';\r\nimport uuid from 'uuid';\r\n\r\nimport * as utils from './utils';\r\nimport Actions from './Actions';\r\nimport Avatar from './Avatar';\r\nimport Bubble from './Bubble';\r\nimport SystemMessage from './SystemMessage';\r\nimport MessageImage from './MessageImage';\r\nimport MessageText from './MessageText';\r\nimport Composer from './Composer';\r\nimport Day from './Day';\r\nimport InputToolbar from './InputToolbar';\r\nimport LoadEarlier from './LoadEarlier';\r\nimport Message from './Message';\r\nimport MessageContainer from './MessageContainer';\r\nimport Send from './Send';\r\nimport Time from './Time';\r\nimport GiftedAvatar from './GiftedAvatar';\r\n\r\nimport {\r\n  MIN_COMPOSER_HEIGHT,\r\n  MAX_COMPOSER_HEIGHT,\r\n  DEFAULT_PLACEHOLDER,\r\n  TIME_FORMAT,\r\n  DATE_FORMAT,\r\n} from './Constant';\r\n\r\nclass GiftedChat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // default values\r\n    this._isMounted = false;\r\n    this._keyboardHeight = 0;\r\n    this._bottomOffset = 0;\r\n    this._maxHeight = null;\r\n    this._isFirstLayout = true;\r\n    this._locale = 'en';\r\n    this._messages = [];\r\n\r\n    this.state = {\r\n      isInitialized: false, // initialization will calculate maxHeight before rendering the chat\r\n      composerHeight: 40,\r\n      typingDisabled: false,\r\n    };\r\n\r\n    this.onSend = this.onSend.bind(this);\r\n    this.getLocale = this.getLocale.bind(this);\r\n    this.onInputSizeChanged = this.onInputSizeChanged.bind(this);\r\n    this.onInputTextChanged = this.onInputTextChanged.bind(this);\r\n    this.onMainViewLayout = this.onMainViewLayout.bind(this);\r\n    this.onInitialLayoutViewLayout = this.onInitialLayoutViewLayout.bind(this);\r\n\r\n    this.invertibleScrollViewProps = {\r\n      inverted: this.props.inverted,\r\n    };\r\n  }\r\n\r\n  static append(currentMessages = [], messages, inverted = true) {\r\n    if (!Array.isArray(messages)) {\r\n      messages = [messages];\r\n    }\r\n    return inverted ? messages.concat(currentMessages) : currentMessages.concat(messages);\r\n  }\r\n\r\n  static prepend(currentMessages = [], messages, inverted = true) {\r\n    if (!Array.isArray(messages)) {\r\n      messages = [messages];\r\n    }\r\n    return inverted ? currentMessages.concat(messages) : messages.concat(currentMessages);\r\n  }\r\n\r\n  getChildContext() {\r\n    return {\r\n      getLocale: this.getLocale,\r\n    };\r\n  }\r\n\r\n  componentWillMount() {\r\n    const { messages, text } = this.props;\r\n    this.setIsMounted(true);\r\n    this.initLocale();\r\n    this.setMessages(messages || []);\r\n    this.setTextFromProp(text);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.setIsMounted(false);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps = {}) {\r\n    const { messages, text } = nextProps;\r\n    this.setMessages(messages || []);\r\n    this.setTextFromProp(text);\r\n  }\r\n\r\n  initLocale() {\r\n    if (this.props.locale === null || moment.locales().indexOf(this.props.locale) === -1) {\r\n      this.setLocale('en');\r\n    } else {\r\n      this.setLocale(this.props.locale);\r\n    }\r\n  }\r\n\r\n  setLocale(locale) {\r\n    this._locale = locale;\r\n  }\r\n\r\n  getLocale() {\r\n    return this._locale;\r\n  }\r\n\r\n  setTextFromProp(textProp) {\r\n    // Text prop takes precedence over state.\r\n    if (textProp !== undefined && textProp !== this.state.text) {\r\n      this.setState({ text: textProp });\r\n    }\r\n  }\r\n\r\n  getTextFromProp(fallback) {\r\n    if (this.props.text === undefined) {\r\n      return fallback;\r\n    }\r\n    return this.props.text;\r\n  }\r\n\r\n  setMessages(messages) {\r\n    this._messages = messages;\r\n  }\r\n\r\n  getMessages() {\r\n    return this._messages;\r\n  }\r\n\r\n  setBottomOffset(value) {\r\n    this._bottomOffset = value;\r\n  }\r\n\r\n  getBottomOffset() {\r\n    return this._bottomOffset;\r\n  }\r\n\r\n  setIsFirstLayout(value) {\r\n    this._isFirstLayout = value;\r\n  }\r\n\r\n  getIsFirstLayout() {\r\n    return this._isFirstLayout;\r\n  }\r\n\r\n  setIsTypingDisabled(value) {\r\n    this.setState({\r\n      typingDisabled: value,\r\n    });\r\n  }\r\n\r\n  getIsTypingDisabled() {\r\n    return this.state.typingDisabled;\r\n  }\r\n\r\n  setIsMounted(value) {\r\n    this._isMounted = value;\r\n  }\r\n\r\n  getIsMounted() {\r\n    return this._isMounted;\r\n  }\r\n\r\n  scrollToBottom(animated = true) {\r\n    if (this._messageContainerRef === null) {\r\n      return;\r\n    }\r\n    this._messageContainerRef.scrollTo({\r\n      y: 0,\r\n      animated,\r\n    });\r\n  }\r\n\r\n\r\n  renderMessages() {\r\n    return (\r\n      <div style={{\r\n        height: `calc(100% - ${this.state.composerHeight}px)`,\r\n        display: 'flex',\r\n      }}\r\n      >\r\n        <MessageContainer\r\n          {...this.props}\r\n          invertibleScrollViewProps={this.invertibleScrollViewProps}\r\n          messages={this.getMessages()}\r\n          ref={component => this._messageContainerRef = component}\r\n        />\r\n        {this.renderChatFooter()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onSend(messages = [], shouldResetInputToolbar = false) {\r\n    if (!Array.isArray(messages)) {\r\n      messages = [messages];\r\n    }\r\n    messages = messages.map(message => ({\r\n      ...message,\r\n      user: this.props.user,\r\n      createdAt: new Date(),\r\n      id: this.props.messageIdGenerator(),\r\n    }));\r\n\r\n    if (shouldResetInputToolbar === true) {\r\n      this.setIsTypingDisabled(true);\r\n      this.resetInputToolbar();\r\n    }\r\n\r\n    this.props.onSend(messages);\r\n    this.scrollToBottom();\r\n\r\n    if (shouldResetInputToolbar === true) {\r\n      setTimeout(() => {\r\n        if (this.getIsMounted() === true) {\r\n          this.setIsTypingDisabled(false);\r\n        }\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  resetInputToolbar() {\r\n    this.notifyInputTextReset();\r\n    this.setState({\r\n      text: this.getTextFromProp(''),\r\n    });\r\n  }\r\n\r\n  focusTextInput() {\r\n    if (this.textInput) {\r\n      this.textInput.focus();\r\n    }\r\n  }\r\n\r\n  onInputSizeChanged(size) {\r\n  }\r\n\r\n  onInputTextChanged(text) {\r\n    if (this.getIsTypingDisabled()) {\r\n      return;\r\n    }\r\n    if (this.props.onInputTextChanged) {\r\n      this.props.onInputTextChanged(text);\r\n    }\r\n    // Only set state if it's not being overridden by a prop.\r\n    if (this.props.text === undefined) {\r\n      this.setState({ text });\r\n    }\r\n  }\r\n\r\n  notifyInputTextReset() {\r\n    if (this.props.onInputTextChanged) {\r\n      this.props.onInputTextChanged('');\r\n    }\r\n  }\r\n\r\n  onInitialLayoutViewLayout(e) {\r\n    const { layout } = e.nativeEvent;\r\n    if (layout.height <= 0) {\r\n      return;\r\n    }\r\n    this.notifyInputTextReset();\r\n    this.setState({\r\n      isInitialized: true,\r\n      text: this.getTextFromProp(''),\r\n    });\r\n  }\r\n\r\n  onMainViewLayout(e) {\r\n  }\r\n\r\n  renderInputToolbar() {\r\n    const inputToolbarProps = {\r\n      ...this.props,\r\n      text: this.getTextFromProp(this.state.text),\r\n      composerHeight: this.state.composerHeight,\r\n      onSend: this.onSend,\r\n      onInputSizeChanged: this.onInputSizeChanged,\r\n      onTextChanged: this.onInputTextChanged,\r\n      textInputProps: {\r\n        ...this.props.textInputProps,\r\n        ref: textInput => (this.textInput = textInput),\r\n        maxLength: this.getIsTypingDisabled() ? 0 : this.props.maxInputLength,\r\n      },\r\n    };\r\n    if (this.props.renderInputToolbar) {\r\n      return this.props.renderInputToolbar(inputToolbarProps);\r\n    }\r\n    return (\r\n      <InputToolbar\r\n        {...inputToolbarProps}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderChatFooter() {\r\n    if (this.props.renderChatFooter) {\r\n      const footerProps = {\r\n        ...this.props,\r\n      };\r\n      return this.props.renderChatFooter(footerProps);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  renderLoading() {\r\n    if (this.props.renderLoading) {\r\n      return this.props.renderLoading();\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isInitialized === true) {\r\n      return (\r\n        <View style={styles.container} onLayout={this.onMainViewLayout}>\r\n          {this.renderMessages()}\r\n          {this.renderInputToolbar()}\r\n        </View>\r\n      );\r\n    }\r\n    return (\r\n      <View style={styles.container} onLayout={this.onInitialLayoutViewLayout}>\r\n        {this.renderLoading()}\r\n      </View>\r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    height: '100%',\r\n  },\r\n});\r\n\r\nGiftedChat.childContextTypes = {\r\n  getLocale: PropTypes.func,\r\n};\r\n\r\nGiftedChat.defaultProps = {\r\n  messages: [],\r\n  text: undefined,\r\n  placeholder: DEFAULT_PLACEHOLDER,\r\n  messageIdGenerator: () => uuid.v4(),\r\n  user: {},\r\n  onSend: () => { },\r\n  locale: null,\r\n  timeFormat: TIME_FORMAT,\r\n  dateFormat: DATE_FORMAT,\r\n  isAnimated: false,\r\n  loadEarlier: false,\r\n  onLoadEarlier: () => { },\r\n  isLoadingEarlier: false,\r\n  renderLoading: null,\r\n  renderLoadEarlier: null,\r\n  renderAvatar: undefined,\r\n  showUserAvatar: false,\r\n  onPressAvatar: null,\r\n  renderUsernameOnMessage: false,\r\n  renderAvatarOnTop: false,\r\n  renderBubble: null,\r\n  renderSystemMessage: null,\r\n  onLongPress: null,\r\n  renderMessage: null,\r\n  renderMessageText: null,\r\n  renderMessageImage: null,\r\n  imageProps: {},\r\n  videoProps: {},\r\n  lightboxProps: {},\r\n  textInputProps: {},\r\n  listViewProps: {},\r\n  renderCustomView: null,\r\n  renderDay: null,\r\n  renderTime: null,\r\n  renderFooter: null,\r\n  renderChatFooter: null,\r\n  renderInputToolbar: null,\r\n  renderComposer: null,\r\n  renderActions: null,\r\n  renderSend: null,\r\n  renderAccessory: null,\r\n  onPressActionButton: null,\r\n  bottomOffset: 0,\r\n  minInputToolbarHeight: 44,\r\n  keyboardShouldPersistTaps: 'never',\r\n  onInputTextChanged: null,\r\n  maxInputLength: null,\r\n  forceGetKeyboardHeight: false,\r\n  inverted: true,\r\n  extraData: null,\r\n  minComposerHeight: MIN_COMPOSER_HEIGHT,\r\n  maxComposerHeight: MAX_COMPOSER_HEIGHT,\r\n};\r\n\r\nGiftedChat.propTypes = {\r\n  messages: PropTypes.arrayOf(PropTypes.object),\r\n  text: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  messageIdGenerator: PropTypes.func,\r\n  user: PropTypes.object,\r\n  onSend: PropTypes.func,\r\n  locale: PropTypes.string,\r\n  timeFormat: PropTypes.string,\r\n  dateFormat: PropTypes.string,\r\n  isAnimated: PropTypes.bool,\r\n  loadEarlier: PropTypes.bool,\r\n  onLoadEarlier: PropTypes.func,\r\n  isLoadingEarlier: PropTypes.bool,\r\n  renderLoading: PropTypes.func,\r\n  renderLoadEarlier: PropTypes.func,\r\n  renderAvatar: PropTypes.func,\r\n  showUserAvatar: PropTypes.bool,\r\n  onPressAvatar: PropTypes.func,\r\n  renderUsernameOnMessage: PropTypes.bool,\r\n  renderAvatarOnTop: PropTypes.bool,\r\n  renderBubble: PropTypes.func,\r\n  renderSystemMessage: PropTypes.func,\r\n  onLongPress: PropTypes.func,\r\n  renderMessage: PropTypes.func,\r\n  renderMessageText: PropTypes.func,\r\n  renderMessageImage: PropTypes.func,\r\n  imageProps: PropTypes.object,\r\n  videoProps: PropTypes.object,\r\n  lightboxProps: PropTypes.object,\r\n  renderCustomView: PropTypes.func,\r\n  renderDay: PropTypes.func,\r\n  renderTime: PropTypes.func,\r\n  renderFooter: PropTypes.func,\r\n  renderChatFooter: PropTypes.func,\r\n  renderInputToolbar: PropTypes.func,\r\n  renderComposer: PropTypes.func,\r\n  renderActions: PropTypes.func,\r\n  renderSend: PropTypes.func,\r\n  renderAccessory: PropTypes.func,\r\n  onPressActionButton: PropTypes.func,\r\n  bottomOffset: PropTypes.number,\r\n  minInputToolbarHeight: PropTypes.number,\r\n  listViewProps: PropTypes.object,\r\n  keyboardShouldPersistTaps: PropTypes.oneOf(['always', 'never', 'handled']),\r\n  onInputTextChanged: PropTypes.func,\r\n  maxInputLength: PropTypes.number,\r\n  forceGetKeyboardHeight: PropTypes.bool,\r\n  inverted: PropTypes.bool,\r\n  textInputProps: PropTypes.object,\r\n  extraData: PropTypes.object,\r\n  minComposerHeight: PropTypes.number,\r\n  maxComposerHeight: PropTypes.number,\r\n};\r\n\r\nexport {\r\n  GiftedChat,\r\n  Actions,\r\n  Avatar,\r\n  Bubble,\r\n  SystemMessage,\r\n  MessageImage,\r\n  MessageText,\r\n  Composer,\r\n  Day,\r\n  InputToolbar,\r\n  LoadEarlier,\r\n  Message,\r\n  MessageContainer,\r\n  Send,\r\n  Time,\r\n  GiftedAvatar,\r\n  utils,\r\n};\r\n"],"sourceRoot":""}